<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<title>fiug (drag)</title>
	<meta name="description" content="">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<meta name="theme-color" content="#1e1e1e">
	<meta name="light-page-color" content="white">
	<meta name="light-theme-color" content="#227a9c">
	<meta name="dark-page-color" content="#2d2d2d">
	<meta name="dark-theme-color" content="#1e1e1e">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	
	<link rel="stylesheet" href="/index.css">
	<link rel="stylesheet" href="https://cdn.skypack.dev/golden-layout@2.4.0/dist/css/goldenlayout-base.css">
	<link rel="stylesheet" href="https://cdn.skypack.dev/golden-layout@2.4.0/dist/css/themes/goldenlayout-dark-theme.css">

	<link rel="stylesheet" href="./layout/layout.css">
</head>

<style>
:root {
	--status-bg: #34658d;
}
@media (prefers-color-scheme: dark) {
	html { background: #1a1a1a; }
}

html, body{
	height: 100%;
	margin: 0;
	display: flex;
	flex-direction:column;
	height: 100%
}

body:after {
	display: block;
	content: '';
	position: absolute;
	background: var(--status-bg);
	bottom: 0;
	left: 0;
	height: 22px;
	right: 0;
	z-index: -1;
}
</style>


<body>
	<div id="layoutContainer"></div>
</body>

<script type="module">
	import Layout from './layout/layout.js';

	const darkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
	//console.log('Mode is: ' + (darkMode ? "dark" : "light"));

	const layoutConfig = await fetch('index.layout.json').then(r => r.json());
	let treeConfig;
	layoutConfig.root.content = layoutConfig.root.content.filter(x => {
		if(['Terminal','Action'].includes(x.componentType)) return false;
		if(JSON.stringify(x).includes('Terminal')) return false;
		return true;
	});

	Layout(layoutConfig)
</script>

</html>
